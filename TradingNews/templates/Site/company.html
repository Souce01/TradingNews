{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}

{% block title %}{{ company.Symbol }}{% endblock %}

{% block content %}
    <div class="content">
        <div class="col-1">
            <!-- company profile -->
            <div class="profile-container">
                <div class="profile-header-container">
                    <div class="profile-header">
                        <div>{{ company.Name }}</div>
                        <div>{{ company.Symbol }} &#8226 {{ company.Exchange }}</div>
                    </div>
                    <div id="follow-button">follow</div>
                </div>
                <div class="profile-content-container">
                    <div class="profile-info-container">
                        <div class="profile-price-container">
                            <div class="profile-price">{{ endPoint|get:"05. price"|decimalLimit:3 }}</div>
                            {% if endPoint|get:"09. change"|first == '-' %}
                                <div class="profile-price-change red">{{ endPoint|get:"09. change"|decimalLimit }} ({{ endPoint|get:"10. change percent" }})</div>
                            {% else %}
                                <div class="profile-price-change green">+{{ endPoint|get:"09. change"|decimalLimit }} ({{ endPoint|get:"10. change percent" }})</div>
                            {% endif %}
                        </div>
                        <div class="profile-info">
                            <div class="profile-info-col">
                                <div class="profile-info-element">
                                    <div>Previous close</div>
                                    <div>{{ endPoint|get:"08. previous close"|decimalLimit }}</div>
                                </div>
                                <div class="profile-info-element">
                                    <div>Open</div>
                                    <div>{{ endPoint|get:"02. open"|decimalLimit }}</div>
                                </div>
                                <div class="profile-info-element">
                                    <div>Day's range</div>
                                    <div>{{ endPoint|get:"04. low"|decimalLimit }} - {{ endPoint|get:"03. high"|decimalLimit }}</div>
                                </div>
                                <div class="profile-info-element">
                                    <div>52 week range</div>
                                    <div>{{ company.52WeekLow|decimalLimit }} - {{ company.52WeekHigh|decimalLimit }}</div>
                                </div>
                                <div class="profile-info-element">
                                    <div>Dividend Yield</div>
                                    <div>{{ company.DividendYield|percentage }}</div>
                                </div>
                            </div>
                            <div class="profile-info-col">
                                <div class="profile-info-element">
                                    <div>Market cap</div>
                                    <div>{{ company.MarketCapitalization|commas }}</div>
                                </div>
                                <div class="profile-info-element">
                                    <div>Volume</div>
                                    <div>{{ endPoint|get:"06. volume"|commas }}</div>
                                </div>
                                <div class="profile-info-element">
                                    <div>PE Ratio</div>
                                    <div>{{ company.PERatio|decimalLimit }}</div>
                                </div>
                                <div class="profile-info-element">
                                    <div>Forward PE</div>
                                    <div>{{ company.ForwardPE|decimalLimit }}</div>
                                </div>
                                <div class="profile-info-element">
                                    <div>EPS</div>
                                    <div>{{ company.EPS|decimalLimit }}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="profile-chart-container">
                        <canvas id="chart" class="profile-chart">
                        </canvas>
                    </div>
                </div>
            </div>
            {% include 'Site/article.html' %}
        </div>
        <div class="col-2">
            <div class="watchlist-container"></div>
        </div>
    </div>
{% endblock %}